ARM GAS  /tmp/ccp5HHfK.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"touch.c"
  15              		.section	.text.TP_Write,"ax",%progbits
  16              		.align	1
  17              		.thumb
  18              		.thumb_func
  20              	TP_Write:
  21              		@ args = 0, pretend = 0, frame = 0
  22              		@ frame_needed = 0, uses_anonymous_args = 0
  23 0000 38B5     		push	{r3, r4, r5, lr}
  24 0002 2021     		movs	r1, #32
  25 0004 0546     		mov	r5, r0
  26 0006 0022     		movs	r2, #0
  27 0008 0E48     		ldr	r0, .L8
  28 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  29 000e 0824     		movs	r4, #8
  30              	.L4:
  31 0010 2B06     		lsls	r3, r5, #24
  32 0012 4CBF     		ite	mi
  33 0014 0122     		movmi	r2, #1
  34 0016 0022     		movpl	r2, #0
  35 0018 0A48     		ldr	r0, .L8
  36 001a 8021     		movs	r1, #128
  37 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
  38 0020 0848     		ldr	r0, .L8
  39 0022 2021     		movs	r1, #32
  40 0024 0122     		movs	r2, #1
  41 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
  42 002a 013C     		subs	r4, r4, #1
  43 002c 0548     		ldr	r0, .L8
  44 002e 2021     		movs	r1, #32
  45 0030 0022     		movs	r2, #0
  46 0032 6D00     		lsls	r5, r5, #1
  47 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
  48 0038 14F0FF04 		ands	r4, r4, #255
  49 003c EDB2     		uxtb	r5, r5
  50 003e E7D1     		bne	.L4
  51 0040 38BD     		pop	{r3, r4, r5, pc}
  52              	.L9:
  53 0042 00BF     		.align	2
  54              	.L8:
  55 0044 00080140 		.word	1073809408
  57              		.section	.text.TP_Read,"ax",%progbits
  58              		.align	1
  59              		.thumb
ARM GAS  /tmp/ccp5HHfK.s 			page 2


  60              		.thumb_func
  62              	TP_Read:
  63              		@ args = 0, pretend = 0, frame = 0
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65 0000 38B5     		push	{r3, r4, r5, lr}
  66 0002 1025     		movs	r5, #16
  67 0004 0024     		movs	r4, #0
  68              	.L12:
  69 0006 0C48     		ldr	r0, .L17
  70 0008 2021     		movs	r1, #32
  71 000a 0122     		movs	r2, #1
  72 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
  73 0010 0948     		ldr	r0, .L17
  74 0012 2021     		movs	r1, #32
  75 0014 0022     		movs	r2, #0
  76 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
  77 001a 6400     		lsls	r4, r4, #1
  78 001c 0648     		ldr	r0, .L17
  79 001e 4021     		movs	r1, #64
  80 0020 A4B2     		uxth	r4, r4
  81 0022 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  82 0026 08B1     		cbz	r0, .L11
  83 0028 0134     		adds	r4, r4, #1
  84 002a A4B2     		uxth	r4, r4
  85              	.L11:
  86 002c 013D     		subs	r5, r5, #1
  87 002e 15F0FF05 		ands	r5, r5, #255
  88 0032 E8D1     		bne	.L12
  89 0034 2046     		mov	r0, r4
  90 0036 38BD     		pop	{r3, r4, r5, pc}
  91              	.L18:
  92              		.align	2
  93              	.L17:
  94 0038 00080140 		.word	1073809408
  96              		.section	.text.getCalibr,"ax",%progbits
  97              		.align	1
  98              		.global	getCalibr
  99              		.thumb
 100              		.thumb_func
 102              	getCalibr:
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		@ link register save eliminated.
 106 0000 0048     		ldr	r0, .L20
 107 0002 7047     		bx	lr
 108              	.L21:
 109              		.align	2
 110              	.L20:
 111 0004 00000000 		.word	TouchCalibration
 113              		.section	.text.TP_init_default,"ax",%progbits
 114              		.align	1
 115              		.global	TP_init_default
 116              		.thumb
 117              		.thumb_func
 119              	TP_init_default:
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccp5HHfK.s 			page 3


 122              		@ link register save eliminated.
 123 0000 064B     		ldr	r3, .L23
 124 0002 074A     		ldr	r2, .L23+4
 125 0004 0220     		movs	r0, #2
 126 0006 6FF4CF71 		mvn	r1, #414
 127 000a 6FF4937C 		mvn	ip, #294
 128 000e 83E80710 		stmia	r3, {r0, r1, r2, ip}
 129 0012 0722     		movs	r2, #7
 130 0014 1A61     		str	r2, [r3, #16]
 131 0016 034A     		ldr	r2, .L23+8
 132 0018 5A61     		str	r2, [r3, #20]
 133 001a 7047     		bx	lr
 134              	.L24:
 135              		.align	2
 136              	.L23:
 137 001c 00000000 		.word	TouchCalibration
 138 0020 48F07401 		.word	24440904
 139 0024 F13DFB00 		.word	16465393
 141              		.section	.text.TP_Read_Coordinates,"ax",%progbits
 142              		.align	1
 143              		.global	TP_Read_Coordinates
 144              		.thumb
 145              		.thumb_func
 147              	TP_Read_Coordinates:
 148              		@ args = 0, pretend = 0, frame = 16
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 151 0002 4FF0FF33 		mov	r3, #-1
 152 0006 85B0     		sub	sp, sp, #20
 153 0008 0360     		str	r3, [r0]
 154 000a 4360     		str	r3, [r0, #4]
 155 000c 0546     		mov	r5, r0
 156 000e 3E48     		ldr	r0, .L34
 157 0010 FFF7FEFF 		bl	HAL_SPI_DeInit
 158 0014 0122     		movs	r2, #1
 159 0016 3D48     		ldr	r0, .L34+4
 160 0018 0221     		movs	r1, #2
 161 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 162 001e 0126     		movs	r6, #1
 163 0020 A023     		movs	r3, #160
 164 0022 8DE84800 		stmia	sp, {r3, r6}
 165 0026 3948     		ldr	r0, .L34+4
 166 0028 0323     		movs	r3, #3
 167 002a 6946     		mov	r1, sp
 168 002c 0024     		movs	r4, #0
 169 002e 0393     		str	r3, [sp, #12]
 170 0030 FFF7FEFF 		bl	HAL_GPIO_Init
 171 0034 4023     		movs	r3, #64
 172 0036 3548     		ldr	r0, .L34+4
 173 0038 6946     		mov	r1, sp
 174 003a 8DE81800 		stmia	sp, {r3, r4}
 175 003e 0294     		str	r4, [sp, #8]
 176 0040 FFF7FEFF 		bl	HAL_GPIO_Init
 177 0044 3246     		mov	r2, r6
 178 0046 3148     		ldr	r0, .L34+4
 179 0048 2021     		movs	r1, #32
 180 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccp5HHfK.s 			page 4


 181 004e 3246     		mov	r2, r6
 182 0050 2E48     		ldr	r0, .L34+4
 183 0052 8021     		movs	r1, #128
 184 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 185 0058 2C48     		ldr	r0, .L34+4
 186 005a 0221     		movs	r1, #2
 187 005c 2246     		mov	r2, r4
 188 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 189 0062 2646     		mov	r6, r4
 190 0064 2746     		mov	r7, r4
 191              	.L26:
 192 0066 2948     		ldr	r0, .L34+4
 193 0068 0121     		movs	r1, #1
 194 006a FFF7FEFF 		bl	HAL_GPIO_ReadPin
 195 006e 78B9     		cbnz	r0, .L27
 196 0070 9020     		movs	r0, #144
 197 0072 FFF7FEFF 		bl	TP_Write
 198 0076 FFF7FEFF 		bl	TP_Read
 199 007a 0644     		add	r6, r6, r0
 200 007c D020     		movs	r0, #208
 201 007e FFF7FEFF 		bl	TP_Write
 202 0082 FFF7FEFF 		bl	TP_Read
 203 0086 0134     		adds	r4, r4, #1
 204 0088 B4F57A7F 		cmp	r4, #1000
 205 008c 0744     		add	r7, r7, r0
 206 008e EAD1     		bne	.L26
 207              	.L27:
 208 0090 1E48     		ldr	r0, .L34+4
 209 0092 0221     		movs	r1, #2
 210 0094 0122     		movs	r2, #1
 211 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 212 009a B4F57A7F 		cmp	r4, #1000
 213 009e 1DD1     		bne	.L29
 214 00a0 1A48     		ldr	r0, .L34+4
 215 00a2 0121     		movs	r1, #1
 216 00a4 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 217 00a8 C0B9     		cbnz	r0, .L29
 218 00aa B7FBF4F3 		udiv	r3, r7, r4
 219 00ae B6FBF4F4 		udiv	r4, r6, r4
 220 00b2 174A     		ldr	r2, .L34+8
 221 00b4 92E80300 		ldmia	r2, {r0, r1}
 222 00b8 6143     		muls	r1, r4, r1
 223 00ba 00FB0310 		mla	r0, r0, r3, r1
 224 00be 1669     		ldr	r6, [r2, #16]
 225 00c0 9168     		ldr	r1, [r2, #8]
 226 00c2 7443     		muls	r4, r6, r4
 227 00c4 0144     		add	r1, r1, r0
 228 00c6 090C     		lsrs	r1, r1, #16
 229 00c8 2960     		str	r1, [r5]
 230 00ca D168     		ldr	r1, [r2, #12]
 231 00cc 5269     		ldr	r2, [r2, #20]
 232 00ce 01FB0343 		mla	r3, r1, r3, r4
 233 00d2 1344     		add	r3, r3, r2
 234 00d4 1B0C     		lsrs	r3, r3, #16
 235 00d6 6B60     		str	r3, [r5, #4]
 236 00d8 0124     		movs	r4, #1
 237 00da 04E0     		b	.L30
ARM GAS  /tmp/ccp5HHfK.s 			page 5


 238              	.L29:
 239 00dc 4FF0FF33 		mov	r3, #-1
 240 00e0 2B60     		str	r3, [r5]
 241 00e2 6B60     		str	r3, [r5, #4]
 242 00e4 0024     		movs	r4, #0
 243              	.L30:
 244 00e6 0020     		movs	r0, #0
 245 00e8 FFF7FEFF 		bl	MX_SPI1_Init
 246 00ec FFF7FEFF 		bl	SPIx_Error1
 247 00f0 2046     		mov	r0, r4
 248 00f2 084B     		ldr	r3, .L34+12
 249 00f4 1A68     		ldr	r2, [r3]
 250 00f6 22F04002 		bic	r2, r2, #64
 251 00fa 1A60     		str	r2, [r3]
 252 00fc 1A68     		ldr	r2, [r3]
 253 00fe 42F04002 		orr	r2, r2, #64
 254 0102 1A60     		str	r2, [r3]
 255 0104 05B0     		add	sp, sp, #20
 256              		@ sp needed
 257 0106 F0BD     		pop	{r4, r5, r6, r7, pc}
 258              	.L35:
 259              		.align	2
 260              	.L34:
 261 0108 00000000 		.word	hspi1
 262 010c 00080140 		.word	1073809408
 263 0110 00000000 		.word	TouchCalibration
 264 0114 00300140 		.word	1073819648
 266              		.section	.text.TP_Touchpad_Pressed,"ax",%progbits
 267              		.align	1
 268              		.global	TP_Touchpad_Pressed
 269              		.thumb
 270              		.thumb_func
 272              	TP_Touchpad_Pressed:
 273              		@ args = 0, pretend = 0, frame = 0
 274              		@ frame_needed = 0, uses_anonymous_args = 0
 275 0000 08B5     		push	{r3, lr}
 276 0002 0121     		movs	r1, #1
 277 0004 0348     		ldr	r0, .L37
 278 0006 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 279 000a B0FA80F0 		clz	r0, r0
 280 000e 4009     		lsrs	r0, r0, #5
 281 0010 08BD     		pop	{r3, pc}
 282              	.L38:
 283 0012 00BF     		.align	2
 284              	.L37:
 285 0014 00080140 		.word	1073809408
 287              		.comm	TouchCalibration,24,4
 288              		.ident	"GCC: (15:4.9.3+svn231177-1) 4.9.3 20150529 (prerelease)"
ARM GAS  /tmp/ccp5HHfK.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 touch.c
     /tmp/ccp5HHfK.s:16     .text.TP_Write:0000000000000000 $t
     /tmp/ccp5HHfK.s:20     .text.TP_Write:0000000000000000 TP_Write
     /tmp/ccp5HHfK.s:55     .text.TP_Write:0000000000000044 $d
     /tmp/ccp5HHfK.s:58     .text.TP_Read:0000000000000000 $t
     /tmp/ccp5HHfK.s:62     .text.TP_Read:0000000000000000 TP_Read
     /tmp/ccp5HHfK.s:94     .text.TP_Read:0000000000000038 $d
     /tmp/ccp5HHfK.s:97     .text.getCalibr:0000000000000000 $t
     /tmp/ccp5HHfK.s:102    .text.getCalibr:0000000000000000 getCalibr
     /tmp/ccp5HHfK.s:111    .text.getCalibr:0000000000000004 $d
                            *COM*:0000000000000018 TouchCalibration
     /tmp/ccp5HHfK.s:114    .text.TP_init_default:0000000000000000 $t
     /tmp/ccp5HHfK.s:119    .text.TP_init_default:0000000000000000 TP_init_default
     /tmp/ccp5HHfK.s:137    .text.TP_init_default:000000000000001c $d
     /tmp/ccp5HHfK.s:142    .text.TP_Read_Coordinates:0000000000000000 $t
     /tmp/ccp5HHfK.s:147    .text.TP_Read_Coordinates:0000000000000000 TP_Read_Coordinates
     /tmp/ccp5HHfK.s:261    .text.TP_Read_Coordinates:0000000000000108 $d
     /tmp/ccp5HHfK.s:267    .text.TP_Touchpad_Pressed:0000000000000000 $t
     /tmp/ccp5HHfK.s:272    .text.TP_Touchpad_Pressed:0000000000000000 TP_Touchpad_Pressed
     /tmp/ccp5HHfK.s:285    .text.TP_Touchpad_Pressed:0000000000000014 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_ReadPin
HAL_SPI_DeInit
HAL_GPIO_Init
MX_SPI1_Init
SPIx_Error1
hspi1
